{"ast":null,"code":"import _slicedToArray from\"/Users/umerraja/All Cloud Drives /Google Drive/Study/Study Data/Programming/Repositories/Projects/defever/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";function CommentCard(_ref){var currentUser=_ref.currentUser,comment=_ref.comment,onDeleteClick=_ref.onDeleteClick,onLikeClick=_ref.onLikeClick;var _useState=useState(comment.likes.length),_useState2=_slicedToArray(_useState,2),likes=_useState2[0],setLikes=_useState2[1];var incrementLikes=function incrementLikes(){if(comment.likes.some(function(like){return like.id===currentUser.id;})){for(var i=0;i<comment.likes.length;i++){if(comment.likes[i].id===currentUser.id){comment.likes.splice(i,1);}}setLikes(likes-1);}else{comment.likes.push(currentUser);setLikes(likes+1);}onLikeClick({id:comment.id,body:comment.body,date:comment.date,likes:comment.likes,user:comment.user});};return/*#__PURE__*/React.createElement(\"div\",{className:\"card mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"p\",{className:\"post-comment-info\"},\"Comment by \",/*#__PURE__*/React.createElement(\"strong\",null,comment.user.name),\" at \",/*#__PURE__*/React.createElement(\"em\",null,comment.date)),/*#__PURE__*/React.createElement(\"p\",null,comment.body),/*#__PURE__*/React.createElement(\"p\",{className:\"post-comment-info\"},likes===0?'No':likes,\" likes\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-sm\",onClick:incrementLikes,id:\"comment-like\"},comment.likes.some(function(like){return like.id===currentUser.id;})?'Unlike':'Like',\" \"),currentUser.id===comment.user.id?/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-sm\",onClick:onDeleteClick,id:\"comment-delete\"},\"Delete\"):null));}export default CommentCard;","map":{"version":3,"sources":["/Users/umerraja/All Cloud Drives /Google Drive/Study/Study Data/Programming/Repositories/Projects/defever/src/main/frontend/src/components/comments/CommentCard.js"],"names":["React","useState","CommentCard","currentUser","comment","onDeleteClick","onLikeClick","likes","length","setLikes","incrementLikes","some","like","id","i","splice","push","body","date","user","name"],"mappings":"kPAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CAEA,QAASC,CAAAA,WAAT,MAA2E,IAApDC,CAAAA,WAAoD,MAApDA,WAAoD,CAAvCC,OAAuC,MAAvCA,OAAuC,CAA9BC,aAA8B,MAA9BA,aAA8B,CAAfC,WAAe,MAAfA,WAAe,eAC/CL,QAAQ,CAACG,OAAO,CAACG,KAAR,CAAcC,MAAf,CADuC,wCAClED,KADkE,eAC3DE,QAD2D,eAGzE,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAGN,OAAO,CAACG,KAAR,CAAcI,IAAd,CAAmB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,GAAYV,WAAW,CAACU,EAA5B,EAAvB,CAAH,CAA2D,CACzD,IAAI,GAAIC,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAGV,OAAO,CAACG,KAAR,CAAcC,MAAjC,CAAyCM,CAAC,EAA1C,CAA8C,CAC5C,GAAGV,OAAO,CAACG,KAAR,CAAcO,CAAd,EAAiBD,EAAjB,GAAwBV,WAAW,CAACU,EAAvC,CAA2C,CACzCT,OAAO,CAACG,KAAR,CAAcQ,MAAd,CAAqBD,CAArB,CAAwB,CAAxB,EACD,CACF,CACDL,QAAQ,CAACF,KAAK,CAAG,CAAT,CAAR,CACD,CAPD,IAOO,CACLH,OAAO,CAACG,KAAR,CAAcS,IAAd,CAAmBb,WAAnB,EACAM,QAAQ,CAACF,KAAK,CAAG,CAAT,CAAR,CACD,CACDD,WAAW,CAAC,CAAEO,EAAE,CAAET,OAAO,CAACS,EAAd,CAAkBI,IAAI,CAAEb,OAAO,CAACa,IAAhC,CAAsCC,IAAI,CAAEd,OAAO,CAACc,IAApD,CACZX,KAAK,CAAEH,OAAO,CAACG,KADH,CACUY,IAAI,CAAEf,OAAO,CAACe,IADxB,CAAD,CAAX,CAED,CAdD,CAeA,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,yBAAG,SAAS,CAAC,mBAAb,6BAA4C,kCAASf,OAAO,CAACe,IAAR,CAAaC,IAAtB,CAA5C,qBAAoF,8BAAKhB,OAAO,CAACc,IAAb,CAApF,CADF,cAEE,6BAAId,OAAO,CAACa,IAAZ,CAFF,cAGE,yBAAG,SAAS,CAAC,mBAAb,EAAmCV,KAAK,GAAK,CAAX,CAAgB,IAAhB,CAAuBA,KAAzD,UAHF,cAIE,8BAAQ,SAAS,CAAC,wBAAlB,CAA2C,OAAO,CAAEG,cAApD,CAAoE,EAAE,CAAC,cAAvE,EACIN,OAAO,CAACG,KAAR,CAAcI,IAAd,CAAmB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,GAAYV,WAAW,CAACU,EAA5B,EAAvB,EAAyD,QAAzD,CAAoE,MADxE,KAJF,CAMKV,WAAW,CAACU,EAAZ,GAAmBT,OAAO,CAACe,IAAR,CAAaN,EAAjC,cACF,8BAAQ,SAAS,CAAC,wBAAlB,CAA2C,OAAO,CAAER,aAApD,CAAmE,EAAE,CAAC,gBAAtE,WADE,CAIA,IAVJ,CADF,CADF,CAgBD,CAED,cAAeH,CAAAA,WAAf","sourcesContent":["import React, {useState} from \"react\";\n\nfunction CommentCard({ currentUser, comment, onDeleteClick, onLikeClick }) {\n  const [likes, setLikes] = useState(comment.likes.length);\n\n  const incrementLikes = () => {\n    if(comment.likes.some(like => like.id === currentUser.id)) {\n      for(let i = 0; i < comment.likes.length; i++) {\n        if(comment.likes[i].id === currentUser.id) {\n          comment.likes.splice(i, 1);\n        }\n      }\n      setLikes(likes - 1);\n    } else {\n      comment.likes.push(currentUser);\n      setLikes(likes + 1);\n    }\n    onLikeClick({ id: comment.id, body: comment.body, date: comment.date,\n    likes: comment.likes, user: comment.user});\n  }\n  return (\n    <div className=\"card mt-3\">\n      <div className=\"card-body\">\n        <p className=\"post-comment-info\">Comment by <strong>{comment.user.name}</strong> at <em>{comment.date}</em></p>\n        <p>{comment.body}</p>\n        <p className=\"post-comment-info\">{(likes === 0) ? 'No' : likes} likes</p>\n        <button className=\"btn btn-primary btn-sm\" onClick={incrementLikes} id=\"comment-like\">\n          { comment.likes.some(like => like.id === currentUser.id) ? 'Unlike' : 'Like'} </button>\n        { (currentUser.id === comment.user.id) ?\n        <button className=\"btn btn-primary btn-sm\" onClick={onDeleteClick} id=\"comment-delete\">\n          Delete\n        </button>\n        : null}\n      </div>\n    </div>\n  );\n}\n\nexport default CommentCard;\n"]},"metadata":{},"sourceType":"module"}