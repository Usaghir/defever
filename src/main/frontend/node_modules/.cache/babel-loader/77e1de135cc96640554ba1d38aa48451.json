{"ast":null,"code":"import { useState, useEffect, useCallback } from \"react\";\nconst BASE_URL = \"https://corona.lmao.ninja/v2\";\nexport function useCoronaAPI(path, {\n  initialData = null,\n  converter = data => data,\n  refetchInterval = null\n}) {\n  const [data, setData] = useState(initialData);\n  const convertData = useCallback(converter, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetch(`${BASE_URL}${path}`);\n      const data = await response.json();\n      setData(convertData(data));\n    };\n\n    fetchData();\n\n    if (refetchInterval) {\n      const intervalId = setInterval(fetchData, refetchInterval);\n      return () => clearInterval(intervalId);\n    }\n  }, [convertData, path, refetchInterval]);\n  return data;\n}","map":{"version":3,"sources":["/Users/umerraja/All Cloud Drives /Google Drive/Study/Study Data/Programming/Repositories/Projects/defever/src/main/frontend/src/components/home/useCoronaAPI.js"],"names":["useState","useEffect","useCallback","BASE_URL","useCoronaAPI","path","initialData","converter","data","refetchInterval","setData","convertData","fetchData","response","fetch","json","intervalId","setInterval","clearInterval"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,WAA9B,QAAiD,OAAjD;AAEA,MAAMC,QAAQ,GAAG,8BAAjB;AAEA,OAAO,SAASC,YAAT,CACLC,IADK,EAEL;AAAEC,EAAAA,WAAW,GAAG,IAAhB;AAAsBC,EAAAA,SAAS,GAAIC,IAAD,IAAUA,IAA5C;AAAkDC,EAAAA,eAAe,GAAG;AAApE,CAFK,EAGL;AACA,QAAM,CAACD,IAAD,EAAOE,OAAP,IAAkBV,QAAQ,CAACM,WAAD,CAAhC;AACA,QAAMK,WAAW,GAAGT,WAAW,CAACK,SAAD,EAAY,EAAZ,CAA/B;AAEAN,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMW,SAAS,GAAG,YAAY;AAC5B,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEX,QAAS,GAAEE,IAAK,EAApB,CAA5B;AACA,YAAMG,IAAI,GAAG,MAAMK,QAAQ,CAACE,IAAT,EAAnB;AACAL,MAAAA,OAAO,CAACC,WAAW,CAACH,IAAD,CAAZ,CAAP;AACD,KAJD;;AAKAI,IAAAA,SAAS;;AAET,QAAIH,eAAJ,EAAqB;AACnB,YAAMO,UAAU,GAAGC,WAAW,CAACL,SAAD,EAAYH,eAAZ,CAA9B;AACA,aAAO,MAAMS,aAAa,CAACF,UAAD,CAA1B;AACD;AACF,GAZQ,EAYN,CAACL,WAAD,EAAcN,IAAd,EAAoBI,eAApB,CAZM,CAAT;AAcA,SAAOD,IAAP;AACD","sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\n\nconst BASE_URL = \"https://corona.lmao.ninja/v2\";\n\nexport function useCoronaAPI(\n  path,\n  { initialData = null, converter = (data) => data, refetchInterval = null }\n) {\n  const [data, setData] = useState(initialData);\n  const convertData = useCallback(converter, []);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetch(`${BASE_URL}${path}`);\n      const data = await response.json();\n      setData(convertData(data));\n    };\n    fetchData();\n\n    if (refetchInterval) {\n      const intervalId = setInterval(fetchData, refetchInterval);\n      return () => clearInterval(intervalId);\n    }\n  }, [convertData, path, refetchInterval]);\n\n  return data;\n}\n"]},"metadata":{},"sourceType":"module"}